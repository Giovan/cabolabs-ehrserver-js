<html>
  <head>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="ehrserver_ajax_client.js"></script>
    <!--<script src="ehrserver_jsonp_client.js"></script>-->
    <script type="text/javascript">
    $(document).ready(function() {
    
       var ehrserver = ehrserver_ajax_client;
       ehrserver.init('http://localhost:8090/ehr');
    
       $('#patients').on('click', function (){
         ehrserver.patients(
           function(data) {
             $('#out').text( JSON.stringify(data, null, "  ") )
           }
         );
       });
       
       $('#patient').on('click', function (){
         ehrserver.patient(
           $('input[name=patient_uid]').val(),
           function(data) {
             $('#out').text( JSON.stringify(data, null, "  ") )
           }
         );
       });
       
       $('#ehrs').on('click', function (){
         ehrserver.ehrs(
           function(data) {
             $('#out').text( JSON.stringify(data, null, "  ") )
           }
         );
       });
       
       $('#ehr').on('click', function (){
         ehrserver.ehr(
           $('input[name=ehr_uid]').val(),
           function(data) {
             $('#out').text( JSON.stringify(data, null, "  ") )
           }
         );
       });
       
       $('#ehr_for_patient').on('click', function (){
         ehrserver.ehr_for_patient(
           $('input[name=ehr_patient_uid]').val(),
           function(data) {
             $('#out').text( JSON.stringify(data, null, "  ") )
           }
         );
       });
       
       $('#queries').on('click', function (){
         ehrserver.queries(
           function(data) {
             $('#out').text( JSON.stringify(data, null, "  ") )
           }
         );
       });
    
       
       //var url = 'http://localhost:8090/ehr/rest/patientList?format=json&callback=?';  
       //$.getJSON(url, null, function(data) {  
       //   console.log( data );  
       //});
       
    });
    </script>
    <style>
      fieldset {
        display: inline;
        margin: 1em;
        border: 1px solid #aaa;
      }
      textarea {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="buttons">
       <button id="patients">patients</button>
       <fieldset>
         <input type="text" name="patient_uid" placeholder="patient uid" />
         <button id="patient">patient</button>
       </fieldset>
       
       <button id="ehrs">ehrs</button>
       <fieldset>
         <input type="text" name="ehr_uid" placeholder="ehr uid" />
         <button id="ehr">ehr</button>
       </fieldset>
       <fieldset>
         <input type="text" name="ehr_patient_uid" placeholder="patient uid" />
         <button id="ehr_for_patient">ehr for patient</button>
       </fieldset>
       
       <button id="queries">queries</button>
    </div>
    <div id="output">
      <textarea id="out" rows="40"></textarea>
    </div>
  </body>
</html>
